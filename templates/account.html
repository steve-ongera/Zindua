{% extends 'base.html' %}

{% block title %}My Account{% endblock %}

{% block content %}
<div class="account-container">
  <div class="account-sidebar">
    <div class="sidebar-menu">
      <a href="{% url 'account' %}" class="sidebar-item active">
        <i class="fas fa-user"></i>
        <span>My Account</span>
      </a>
      
      <a href="{% url 'orders'%}" class="sidebar-item">
        <i class="fas fa-shopping-bag"></i>
        <span>Orders</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <i class="fas fa-envelope"></i>
        <span>Inbox</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <i class="fas fa-comment"></i>
        <span>Pending Reviews</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <i class="fas fa-ticket-alt"></i>
        <span>Vouchers</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <i class="fas fa-heart"></i>
        <span>Wishlist</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <i class="fas fa-store"></i>
        <span>Followed Sellers</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <i class="fas fa-history"></i>
        <span>Recently Viewed</span>
      </a>
      
      <div class="sidebar-section">Account Management</div>
      
      <a href="#" class="sidebar-item">
        <span>Payment Settings</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <span>Address Book</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <span>Newsletter Preferences</span>
      </a>
      
      <a href="#" class="sidebar-item">
        <span>Close Account</span>
      </a>
      
      <a href="{% url 'logout' %}" class="sidebar-item logout">
        <span>Logout</span>
      </a>
    </div>
  </div>
  
  <div class="account-content">
    <h1 class="account-heading">Account Overview</h1>
    
    <div class="account-grid">
      <div class="account-card">
        <div class="card-header">
          <h2>ACCOUNT DETAILS</h2>
        </div>
        <div class="card-body">
          <p class="user-name">{{ user.username}} | {{ user.phone_number }}</p>
          <p class="user-email">{{ user.email }}</p>
        </div>
      </div>
      
      <div class="account-card">
        <div class="card-header">
          <h2>ADDRESS BOOK</h2>
          <a href="#" class="edit-link">
            <i class="fas fa-pencil-alt"></i>
          </a>
        </div>
        <div class="card-body">
          <p class="section-title">Your default shipping address:</p>
          {% if default_address %}
            <p class="address-name">{{ default_address.full_name }}</p>
            <p class="address-location">{{ default_address.street_address }}</p>
            <p class="address-city">{{ default_address.city }}</p>
            <p class="address-phone">+{{ default_address.phone_number }}</p>
          {% else %}
            <p class="no-address">No address saved yet</p>
          {% endif %}
        </div>
      </div>
      
      <div class="account-card">
        <div class="card-header">
          <h2>STORE CREDIT</h2>
        </div>
        <div class="card-body store-credit">
          <div class="credit-icon">
            <i class="fas fa-credit-card"></i>
          </div>
          <p class="credit-balance">Store credit balance: KSh {{ store_credit|default:"0" }}</p>
        </div>
      </div>
      
      <div class="account-card">
        <div class="card-header">
          <h2>NEWSLETTER PREFERENCES</h2>
        </div>
        <div class="card-body">
          <p>Manage your email communications to stay updated with the latest news and offers.</p>
          <a href="#" class="edit-newsletter">Edit Newsletter preferences</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% comment %}

{% extends "base.html" %}

{% block content %}
  <h2>Welcome, {{ user.username }}</h2>
  <p>Email: {{ user.email }}</p>
  <p>Full Name: {{ user.get_full_name }}</p>
  <!-- Add more details as needed -->
{% endblock %}

{% endcomment %}
